<!DOCTYPE html>
<html>
	<head>
	    <title>RenJS Examples - Visual Effects</title>
	    <!-- Meta -->
	    <meta charset="utf-8">
	    <meta http-equiv="X-UA-Compatible" content="IE=edge">
	    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	         <meta name="title" content="RenJS">
      <meta name="description" content="A Visual Novel creator made for writers!">
      <meta name="author" content="lunafromthemoon">    
      <link rel="shortcut icon" href="../favicon.ico"> 

      <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://renjs.fr/">
    <meta property="og:title" content="RenJS">
    <meta property="og:description" content="A Visual Novel creator made for writers!">
    <meta property="og:image" content="https://renjs.net/assets/images/thumbnail.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://renjs.fr/">
    <meta property="twitter:title" content="RenJS">
    <meta property="twitter:description" content="A Visual Novel creator made for writers!">
    <meta property="twitter:image" content="https://renjs.net/assets/images/thumbnail.png">  
	    <link rel="shortcut icon" href="../favicon.ico"> 
	    
	    <!-- Google Font -->
	    <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700&display=swap" rel="stylesheet">
	    
	    <!-- FontAwesome JS-->
	    <script defer src="../assets/fontawesome/js/all.min.js"></script>

	     <link rel="stylesheet" href="../assets/css/prism.css" />
	     <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.3.2/styles/atelier-cave-light.min.css"> -->

	    <!-- Theme CSS -->  
	    <link id="theme-style" rel="stylesheet" href="../assets/css/tabs.css">
	    <link id="theme-style" rel="stylesheet" href="../assets/css/theme.css">
	    


		
	</head>


	<body style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px;margin-right: 0px;">
		<header class="header fixed-top">	    
	        <div class="branding docs-branding">
	            <div class="container-fluid position-relative py-2">
	                <div class="docs-logo-wrapper">
		                <div class="site-logo"><a class="navbar-brand" href="../index.html"><img class="logo-icon mr-2" src="../assets/images/renjs-logo.svg" alt="logo"></a></div>    
	                </div><!--//docs-logo-wrapper-->
		            <div class="docs-top-utilities d-flex justify-content-end align-items-center">
						<ul class="social-list list-inline mx-md-3 mx-lg-5 mb-0 d-none d-lg-flex">
							<li class="list-inline-item"><a href="https://github.com/lunafromthemoon/RenJS-V2"><i class="fab fa-github fa-fw"></i></a></li>
				            <li class="list-inline-item"><a href="https://twitter.com/lunafromthem00n"><i class="fab fa-twitter fa-fw"></i></a></li>
			                <li class="list-inline-item"><a href="https://discord.gg/uSMpYFnHZN"><i class="fab fa-discord"></i></a></li>
			                <li class="list-inline-item"><a href="https://lunafromthemoon.itch.io/renjs"><i class="fab fa-itch-io"></i></a></li>
			            </ul><!--//social-list-->
			            <a href="../index.html#downloads" class="btn btn-primary d-none d-lg-flex">Download</a>
		            </div><!--//docs-top-utilities-->
	            </div><!--//container-->
	        </div><!--//branding-->
	    </header><!--//header-->
		
		<section id="downloads" class="cta-section py-5 theme-bg-dark position-relative">
			<div class="text-center">
	   			<img src="../assets/images/renjs-title-white.svg" class="m-3 w-25">
	   			<h1 class="title text-center text-white mb-5">Visual Effects</h1>
	   		</div>
			<div id="renjs-canvas"></div>
		    <div class="container">
			   <div class="docs-overview py-5">
		    		
		    		  <section class="accordion">
					    <section class="accordion-tabs">
					      <button class="accordion-tab accordion-active" data-actab-group="0" data-actab-id="0"><i class="fas fa-pen-alt"></i> Story.yaml</button>
					      <button class="accordion-tab" data-actab-group="0" data-actab-id="1"><i class="fas fa-toolbox"></i> Setup.yaml</button>
					      <button class="accordion-tab" data-actab-group="0" data-actab-id="2"><i class="fas fa-cog"></i> Attack.js</button>
					      <button class="accordion-tab" data-actab-group="0" data-actab-id="3"><i class="fas fa-cog"></i> HeavyRain.js</button>
					    </section>
					    <section class="accordion-content line-numbers">
					      <article class="accordion-item accordion-active" data-actab-group="0" data-actab-id="0">
					      	<h4 class="accordion-item__label"></h4>
					      	<div class="accordion-item__container">
	    						<pre><code class="language-yaml">
start:
  - show store:
  - show marco: 
  - marco says: It looks like there's going to be a storm.
  - effect FLASHIMAGE:
    screenShake: true
    sfx: thunderSFX
    image: thunder
  - marco says happy: Here it is!
  - ambient RAIN:
  - text: It will get worse in 3...
  - text: 2...
  - text: 1...
  - text: Now
  - ambient CLEAR:
  - ambient HEAVYRAIN:
  - marco says: The storm is getting worse, I should go back.
  - text: Rain will stop in 3...
  - text: 2...
  - text: 1...
  - text: Now
  - ambient CLEAR:
  - marco says: That's much better
  - ambient SNOW:
  - marco says worry: Oh no
  - show jair: angry AT RIGHT
  - jair says: Not so fast! Let's battle!
  - marco says: You leave me no choice.
  - marco says angry: Take this!
  - effect ATTACK:
  - hide jair:
  - ambient CLEAR:
  - marco says: It's time to go home.
  - hide ALL:
  - show street_morning:
  - show liz: 
  - ambient SAKURA:
  - liz says happy: What a beautiful morning.
  - liz says: There are cherry blossoms everywhere!
  - ambient CLEAR:
  - hide ALL:
  - effect ROLLINGCREDITS:
    endGame: true
    text:
      - asdf
      - qwer
      - null
      - asdf
      - qwer
      - null
      - null
      - asdf
      - qwer
      - null
      - characters by
      - Shida
      - null
      - music by
      - Evan Schaeffer
									</code></pre>
							</div>
					      </article>
					      <article class="accordion-item" data-actab-group="0" data-actab-id="1">
					      	<h4 class="accordion-item__label"></h4>
					      	<div class="accordion-item__container">
	    						<pre><code class="language-yaml">
backgrounds:
  store: assets/backgrounds/store.jpg
  street_morning: assets/backgrounds/school_front_morning.jpg

characters:
  marco:
    displayName: Marco
    speechColour: "#123022"
    looks:
      normal: assets/characters/Char1NormalSchool.png
      happy: assets/characters/Char1HappySchool.png
      angry: assets/characters/Char1AngrySchool.png
      worry: assets/characters/Char1WorrySchool.png
  jair:
    displayName: Jair
    speechColour: "#6a2b2b"
    looks:
      normal: assets/characters/Char4NormalSchool.png
      happy: assets/characters/Char4HappySchool.png
      angry: assets/characters/Char4AngrySchool.png
  liz:
    displayName: Liz
    speechColour: "#d5e6e7"
    looks:
      normal: assets/characters/Char2NormalSchool.png
      happy: assets/characters/Char2HappySchool.png
      angry: assets/characters/Char2AngrySchool.png

music:
  rainBGS: assets/audio/Rain.mp3
sfx:
  thunderSFX: assets/audio/thunder_strike_1.mp3
  lashSFX: assets/audio/51755__erkanozan__whip-01.wav
extra:
  image:
    title: assets/gui/titles.png
    rain: assets/ambient/rain.png
    thunder: assets/effects/Thunder_Effect.png
    attack: assets/effects/Attack_1.png
    chainattack1: assets/effects/Attack_2.png
    chainattack2: assets/effects/Attack_3.png
    chainattack3: assets/effects/Attack_4.png
    multiattack: assets/effects/Attack_5.png
  spritesheets:
    snowflakes: assets/ambient/snowflakes.png 17 17
    snowflakes_large: assets/ambient/snowflakes_large.png 64 64
    sakura: assets/ambient/sakura-petals.png 17 26

								</code></pre>
							</div>
					      </article>
					      <article class="accordion-item" data-actab-group="0" data-actab-id="2">
					      	<h4 class="accordion-item__label"></h4>
					      	<div class="accordion-item__container">
	    						<pre><code class="language-js">
class AttackEffect extends RenJS.Plugin {

	onCall(params) {
        let flashEffect = this.game.screenEffects.effects.FLASHIMAGE.bind(this.game.screenEffects.effects);
        flashEffect({
            image:"chainattack1",
            sfx:"lashSFX",
            shakeScreen:true
        }).then(()=>{
            flashEffect({
                image:"chainattack2",
                sfx:"lashSFX",
                shakeScreen:true
            }).then(()=>{
                flashEffect({
                    image:"chainattack3",
                    sfx:"lashSFX",
                    shakeScreen:true
                }).then(()=>{
                    // resolve to continue the story
                    this.game.resolveAction();
                });
            });
        });
	}
}

RenJSGame.addPlugin('ATTACK',AttackEffect)
								</code></pre>
							</div>
					      </article>
					      <article class="accordion-item" data-actab-group="0" data-actab-id="3">
					        <h4 class="accordion-item__label"></h4>
					        <div class="accordion-item__container">
	    						<pre><code class="language-js">
class HEAVYRAIN extends RenJS.Plugin {

    // Ambients don't need to call resolveAction

    onCall(params) {
        this.game.managers.audio.play('rainBGS','bgs',true,'FADE');
        let maxLifespan = 1600;
        let ambientManager = this.game.screenEffects.ambient;
        let e1 = ambientManager.addEmitter({
            maxParticles: 400,
            sprite:'rain',
            frames: [0],
            scale: [0.1,0.5],
            speed: {y:[300,500],x:[-5,5]},
            rotation: [0,0]
        },[false, maxLifespan, 5, 0]);
        let e2 = ambientManager.addEmitter({
            maxParticles: 400,
            sprite:'rain',
            frames: [0],
            scale: [0.5,1],
            speed: {y:[500,700],x:[-5,5]},
            rotation: [0,0]
        },[false, maxLifespan, 5, 0]);

        ambientManager.clearFunctions.push(()=>{
            ambientManager.destroyEmitters([e1,e2],maxLifespan);
            this.game.managers.audio.stop('bgs','FADE');
        })
    }
}
RenJSGame.addPlugin('HEAVYRAIN',HEAVYRAIN)
								</code></pre>
							</div>
					      </article>
					      <!-- <article class="accordion-item" data-actab-group="0" data-actab-id="4">
					        <h4 class="accordion-item__label"></h4>
					        <div class="accordion-item__container">
					          <p>aborum similique facere quae. Quo cupiditate ad iste qui aliquam quibusdam quod, ut doloremque ipsa quas soluta, sapiente possimus, tempora rerum ab nesciunt vitae molestiae dolor earum illum repudiandae! Voluptas sed, soluta facere nisi perferendis cupiditate! Dicta et praesentium non ab, quod commodi, illo saepe accusantium tempora autem eos nemo. Animi, pariatur placeat laudantium dolorib!</p>
					        </div>
					      </article> -->
					    </section>
					  </section>
		    	</div>
		    </div>
		    <p class="text-center mt-3">
                <a class="btn btn-cta-light" href="../examples-gallery.html"><i class="fas fa-arrow-left"></i> Return to the Gallery</a>
                <a class="btn btn-cta-light" href="https://github.com/lunafromthemoon/RenJS-V2/tree/main/docs/examples" target="_blank"><i class="fab fa-github fa-fw"></i> Download from Github</a>
            </p>  
            
		</section>
<footer class="footer">
      <div class="footer-bottom text-center py-3">
            <p>Ren<strong>JS</strong> created by <strong><i class="fas fa-rocket"></i></strong> <a href="https://twitter.com/lunafromthem00n">lunafromthemoon</a> <strong><i class="fas fa-moon"></i></strong></p>
      </div>
    </footer>
	</body>
	<script src="../assets/js/prism.js"></script> 
	<script type="text/javascript" src="../assets/js/tabs.js"></script>
	<script src="/downloads/releases/renjs.js"></script>
	<script src="sfx/boot.js"></script>
	<script src="plugins/AttackEffect.js"></script>
  <script src="plugins/HeavyRain.js"></script>

</html>
